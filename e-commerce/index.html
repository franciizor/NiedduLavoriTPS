<!DOCTYPE html>
<html>
<head>
</head>
<body>

<h1>E-COMMERCE</h1>
<button type="button" onclick="loadDoc()">Adidas</button>
<table id="tabella" border="1"></table>
<div id="demo">
  <button type="button" onclick="loadDoc2()">nike</button>
  <table id="tabellaJson" border="1"></table>
</div>
<button type="button" onclick="loadDoc3()">puma</button>
<table id="tabella2" border="1"></table>

<script>
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var csv = this.responseText;
      var linee = csv.split('\n');
      var table = document.getElementById("tabella");

      while (table.rows.length > 0) {
        table.deleteRow(0);
      }
      for (var i = 0; i < linee.length; i++) {
        var row = table.insertRow(-1);
        var celle = linee[i].split(',');

        for (var j = 0; j < celle.length; j++) {
          var cell = row.insertCell(-1);
          cell.innerHTML = celle[j];
        }

        // Aggiungi campo di input per la quantità
        var cellaQuantita = row.insertCell(-1);
        cellaQuantita.innerHTML = '<input type="number" placeholder="Quantità" min="0" id="quantita_' + i + '">';
      }
    }
  };
  xhttp.open("GET", "https://nieddufrancescaa.000webhostapp.com/csv.csv", true);
  xhttp.send();
}

function loadDoc2() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var jsonData = JSON.parse(this.responseText);
      var table = document.getElementById("tabellaJson");

      // Clear existing rows
      while (table.rows.length > 0) {
        table.deleteRow(0);
      }

      // Populate data rows
      for (var i = 0; i < jsonData.length; i++) {
        var dataRow = table.insertRow(-1);
        for (var key in jsonData[i]) {
          var dataCell = dataRow.insertCell(-1);
          dataCell.innerHTML = jsonData[i][key];
        }

        // Aggiungi campo di input per la quantità
        var cellaQuantita = dataRow.insertCell(-1);
        cellaQuantita.innerHTML = '<input type="number" placeholder="Quantità" min="0" id="quantita_' + i + '">';
      }
    }
  };
  xhttp.open("GET" ,"https://nieddufrancescaa.000webhostapp.com/filejson.json", true);
  xhttp.send();
}

function loadDoc3() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var xmlDoc = new DOMParser().parseFromString(this.responseText, "text/xml");
      var tabella = document.getElementById("tabella2");

      while (tabella.rows.length > 0) {
        tabella.deleteRow(0);
      }

      var scelte = xmlDoc.getElementsByTagName("scarpa");

      for (var i = 0; i < scelte.length; i++) {
        var scarpa = scelte[i];
        var nome = scarpa.querySelector("nome").textContent;
        var colore = scarpa.querySelector("colore").textContent;
        var prezzo = scarpa.querySelector("prezzo").textContent;

        var riga = tabella.insertRow(-1);
        var cellaNome = riga.insertCell(0);
        var cellaColore = riga.insertCell(1);
        var cellaPrezzo = riga.insertCell(2);

        cellaNome.innerHTML = nome;
        cellaColore.innerHTML = colore;
        cellaPrezzo.innerHTML = prezzo;

        // Aggiungi campo di input per la quantità
        var cellaQuantita = riga.insertCell(3);
        cellaQuantita.innerHTML = '<input type="number" placeholder="Quantità" min="0" id="quantita_' + i + '">';
      }
    }
  };

  xhttp.open("GET", "https://nieddufrancescaa.000webhostapp.com/xml.xml", true);
  xhttp.send();
}
</script>

</body>
</html>



